var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,n=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&i(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&i(e,s,a[s]);return e},r=(e,t)=>a(e,s(t));import{aS as c,a9 as d,ae as u,a0 as p,ah as m,aj as v,a as b,a5 as f,V as y,c as h,a6 as C,cQ as x,aU as K,_ as g,d as j,e as w,f as A,j as I,i as N,u as O,a3 as P,ad as $,a1 as k,h as E,z as S,l as _,m as V,C as F,G as B,as as H,aa as T,K as z,az as D,J as G,ab as J,an as U,ao as W}from"./index-IQGo8WxO.js";import{C as Q,U as q}from"./event-BwRzfsZt.js";import{t as L}from"./error-D_Dr4eZ1.js";import{c as M}from"./castArray-CEnBrsUU.js";import{E as R}from"./index-CXRd8D_e.js";import{a as X}from"./index-CId84KWp.js";const Y=e=>c(e)||d(e)||u(e),Z=p({accordion:Boolean,modelValue:{type:m([Array,String,Number]),default:()=>v([])},expandIconPosition:{type:m([String]),default:"right"},beforeCollapse:{type:m(Function)}}),ee={[q]:Y,[Q]:Y},ae=Symbol("collapseContextKey"),se=(e,a)=>{const s=b(M(e.modelValue)),t=t=>{s.value=t;const l=e.accordion?s.value[0]:s.value;a(q,l),a(Q,l)},l=a=>{if(e.accordion)t([s.value[0]===a?"":a]);else{const e=[...s.value],l=e.indexOf(a);l>-1?e.splice(l,1):e.push(a),t(e)}};return f((()=>e.modelValue),(()=>s.value=M(e.modelValue)),{deep:!0}),C(ae,{activeNames:s,handleItemClick:a=>{return s=void 0,t=null,o=function*(){const{beforeCollapse:s}=e;if(!s)return void l(a);const t=s(a);[x(t),K(t)].includes(!0)||L("ElCollapse","beforeCollapse must return type `Promise<boolean>` or `boolean`"),x(t)?t.then((e=>{!1!==e&&l(a)})).catch((e=>{})):t&&l(a)},new Promise(((e,a)=>{var l=e=>{try{n(o.next(e))}catch(s){a(s)}},i=e=>{try{n(o.throw(e))}catch(s){a(s)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(l,i);n((o=o.apply(s,t)).next())}));var s,t,o}}),{activeNames:s,setActiveNames:t}},te=j({name:"ElCollapse"});var le=g(j(r(n({},te),{props:Z,emits:ee,setup(e,{expose:a,emit:s}){const t=e,{activeNames:l,setActiveNames:o}=se(t,s),{rootKls:i}=(e=>{const a=y("collapse");return{rootKls:h((()=>[a.b(),a.b(`icon-position-${e.expandIconPosition}`)]))}})(t);return a({activeNames:l,setActiveNames:o}),(e,a)=>(A(),w("div",{class:N(O(i))},[I(e.$slots,"default")],2))}})),[["__file","collapse.vue"]]);const oe=p({title:{type:String,default:""},name:{type:m([String,Number]),default:void 0},icon:{type:$,default:P},disabled:Boolean}),ie=j({name:"ElCollapseItem"});var ne=g(j(r(n({},ie),{props:oe,setup(e,{expose:a}){const s=e,{focusing:t,id:l,isActive:o,handleFocus:i,handleHeaderClick:n,handleEnterClick:r}=(e=>{const a=k(ae),{namespace:s}=y("collapse"),t=b(!1),l=b(!1),o=X(),i=h((()=>o.current++)),n=h((()=>{var a;return null!=(a=e.name)?a:`${s.value}-id-${o.prefix}-${O(i)}`})),r=h((()=>null==a?void 0:a.activeNames.value.includes(O(n))));return{focusing:t,id:i,isActive:r,handleFocus:()=>{setTimeout((()=>{l.value?l.value=!1:t.value=!0}),50)},handleHeaderClick:s=>{if(e.disabled)return;const o=s.target;(null==o?void 0:o.closest("input, textarea, select"))||(null==a||a.handleItemClick(O(n)),t.value=!1,l.value=!0)},handleEnterClick:e=>{const s=e.target;(null==s?void 0:s.closest("input, textarea, select"))||(e.preventDefault(),null==a||a.handleItemClick(O(n)))}}})(s),{arrowKls:c,headKls:d,rootKls:u,itemTitleKls:p,itemWrapperKls:m,itemContentKls:v,scopedContentId:f,scopedHeadId:C}=((e,{focusing:a,isActive:s,id:t})=>{const l=y("collapse"),o=h((()=>[l.b("item"),l.is("active",O(s)),l.is("disabled",e.disabled)])),i=h((()=>[l.be("item","header"),l.is("active",O(s)),{focusing:O(a)&&!e.disabled}])),n=h((()=>[l.be("item","arrow"),l.is("active",O(s))]));return{itemTitleKls:h((()=>[l.be("item","title")])),arrowKls:n,headKls:i,rootKls:o,itemWrapperKls:h((()=>l.be("item","wrap"))),itemContentKls:h((()=>l.be("item","content"))),scopedContentId:h((()=>l.b(`content-${O(t)}`))),scopedHeadId:h((()=>l.b(`head-${O(t)}`)))}})(s,{focusing:t,isActive:o,id:l});return a({isActive:o}),(e,a)=>(A(),w("div",{class:N(O(u))},[E("div",{id:O(C),class:N(O(d)),"aria-expanded":O(o),"aria-controls":O(f),"aria-describedby":O(f),tabindex:e.disabled?-1:0,role:"button",onClick:O(n),onKeydown:z(D(O(r),["stop"]),["space","enter"]),onFocus:O(i),onBlur:e=>t.value=!1},[E("span",{class:N(O(p))},[I(e.$slots,"title",{isActive:O(o)},(()=>[_(V(e.title),1)]))],2),I(e.$slots,"icon",{isActive:O(o)},(()=>[S(O(T),{class:N(O(c))},{default:F((()=>[(A(),B(H(e.icon)))])),_:1},8,["class"])]))],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),S(O(R),null,{default:F((()=>[G(E("div",{id:O(f),role:"region",class:N(O(m)),"aria-hidden":!O(o),"aria-labelledby":O(C)},[E("div",{class:N(O(v))},[I(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[J,O(o)]])])),_:3})],2))}})),[["__file","collapse-item.vue"]]);const re=U(le,{CollapseItem:ne}),ce=W(ne);export{re as E,ce as a};
