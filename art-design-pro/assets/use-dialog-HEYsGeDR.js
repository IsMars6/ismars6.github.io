var e=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(o,l,a)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[l]=a;import{a0 as r,ad as u,aU as c,ah as d,a7 as i,bF as p,a as f,bw as y,cv as v,c as b,b7 as m,a5 as g,n as C,o as O,ac as S,bk as B}from"./index-IQGo8WxO.js";import{t as x}from"./index-CVDCfo3G.js";import{U as h}from"./event-BwRzfsZt.js";import{u as j}from"./index-ClZ4RRhL.js";import{u as w}from"./index-CId84KWp.js";const D=r({center:Boolean,alignCenter:Boolean,closeIcon:{type:u},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),I={close:()=>!0},F=r((P=((e,o)=>{for(var l in o||(o={}))t.call(o,l)&&s(e,l,o[l]);if(a)for(var l of a(o))n.call(o,l)&&s(e,l,o[l]);return e})({},D),A={appendToBody:Boolean,appendTo:{type:x.to.type,default:"body"},beforeClose:{type:d(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}},o(P,l(A))));var P,A;const E={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[h]:e=>c(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},k=(e,o)=>{var l;const a=i().emit,{nextZIndex:t}=p();let n="";const s=w(),r=w(),u=f(!1),c=f(!1),d=f(!1),x=f(null!=(l=e.zIndex)?l:t());let D,I;const F=y("namespace",v),P=b((()=>{const o={},l=`--${F.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=m(e.width))),o})),A=b((()=>e.alignCenter?{display:"flex"}:{}));function E(){null==I||I(),null==D||D(),e.openDelay&&e.openDelay>0?({stop:D}=S((()=>L()),e.openDelay)):L()}function k(){null==D||D(),null==I||I(),e.closeDelay&&e.closeDelay>0?({stop:I}=S((()=>N()),e.closeDelay)):N()}function z(){e.beforeClose?e.beforeClose((function(e){e||(c.value=!0,u.value=!1)})):k()}function L(){B&&(u.value=!0)}function N(){u.value=!1}return e.lockScroll&&j(u),g((()=>e.zIndex),(()=>{var o;x.value=null!=(o=e.zIndex)?o:t()})),g((()=>e.modelValue),(l=>{var n;l?(c.value=!1,E(),d.value=!0,x.value=null!=(n=e.zIndex)?n:t(),C((()=>{a("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)}))):u.value&&k()})),g((()=>e.fullscreen),(e=>{o.value&&(e?(n=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=n)})),O((()=>{e.modelValue&&(u.value=!0,d.value=!0,E())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(h,!1),e.destroyOnClose&&(d.value=!1)},beforeLeave:function(){a("close")},handleClose:z,onModalClick:function(){e.closeOnClickModal&&z()},close:k,doClose:N,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&z()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:s,bodyId:r,closed:c,style:P,overlayDialogStyle:A,rendered:d,visible:u,zIndex:x}};export{F as a,I as b,D as c,E as d,k as u};
