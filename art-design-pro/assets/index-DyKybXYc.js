import{o as e,T as t,b as n,b7 as o}from"./index-IQGo8WxO.js";const s=(s,i,u,a)=>{const m={offsetX:0,offsetY:0},f=(e,t)=>{if(s.value){const{offsetX:n,offsetY:i}=m,u=s.value.getBoundingClientRect(),f=u.left,l=u.top,v=u.width,d=u.height,r=document.documentElement.clientWidth,c=document.documentElement.clientHeight,E=-f+n,h=-l+i,L=r-f-v+n,X=c-l-(d<c?d:0)+i;(null==a?void 0:a.value)||(e=Math.min(Math.max(e,E),L),t=Math.min(Math.max(t,h),X)),m.offsetX=e,m.offsetY=t,s.value.style.transform=`translate(${o(e)}, ${o(t)})`}},l=e=>{const t=e.clientX,n=e.clientY,{offsetX:o,offsetY:s}=m,i=e=>{const i=o+e.clientX-t,u=s+e.clientY-n;f(i,u)},u=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",u)},v=()=>{i.value&&s.value&&(i.value.removeEventListener("mousedown",l),window.removeEventListener("resize",d))},d=()=>{const{offsetX:e,offsetY:t}=m;f(e,t)};return e((()=>{t((()=>{u.value?i.value&&s.value&&(i.value.addEventListener("mousedown",l),window.addEventListener("resize",d)):v()}))})),n((()=>{v()})),{resetPosition:()=>{m.offsetX=0,m.offsetY=0,s.value&&(s.value.style.transform="")},updatePosition:d}};export{s as u};
