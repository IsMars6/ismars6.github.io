var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,n=(e,r)=>{for(var t in r||(r={}))s.call(r,t)&&o(e,t,r[t]);if(a)for(var t of a(r))i.call(r,t)&&o(e,t,r[t]);return e},p=(e,a)=>r(e,t(a));import{_ as m}from"./index-NjuwKTsQ.js";import{_ as l}from"./index-D_a_vnJt.js";import{A as d}from"./index-KDQQz2mx.js";import{A as u}from"./formData-BXYWt-zH.js";import{u as j}from"./useTable-DJAp-yyG.js";import{d as c,a as x,y as v,e as f,f as g,z as y,u as b,I as h,C as _,J as P,G as C,l as w,n as O,a8 as E,df as A,O as T}from"./index-IQGo8WxO.js";import{_ as S}from"./user-search.vue_vue_type_script_setup_true_lang-DPjuOkRR.js";import{_ as z}from"./user-dialog.vue_vue_type_script_setup_true_lang-Cat1LYaL.js";import{E as U}from"./index-D2Y0Mgb1.js";import{E as k}from"./index-BKGyGajh.js";import{E as D}from"./index-BSQc1V3V.js";import{E as G}from"./index-BZTeMWGr.js";import{E as I}from"./index-CE6ES6Vp.js";import{E as R}from"./index-BZ7jpfoU.js";import{_ as V}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./formEnum-BLgiZVxV.js";import"./index-9J3W-hCL.js";import"./index-CGps8DB8.js";import"./index-CAywqtFc.js";import"./error-D_Dr4eZ1.js";import"./index-Bi9RLQBv.js";import"./index-DC4nx5T3.js";import"./index-CVDCfo3G.js";import"./aria-BWz5Vf1b.js";import"./index-CId84KWp.js";import"./use-form-common-props-AkxMGj96.js";import"./_Uint8Array-C6UxRYqY.js";import"./_initCloneObject-9acmKUcz.js";import"./isArrayLikeObject-hcJDj58x.js";import"./isPlainObject-Bv4FPB4y.js";import"./_baseIteratee-BI4Nmsbi.js";import"./isEqual-DovbVL_y.js";import"./castArray-CEnBrsUU.js";import"./debounce-Ce2MWZXC.js";import"./index-6fZG0U-_.js";import"./event-BwRzfsZt.js";import"./use-form-item-M_69vDeD.js";import"./index-BI2hd7RK.js";import"./index-DBDo8sc3.js";import"./index-CbRr1A0z.js";import"./index-D_ZFMFhn.js";import"./index-WiBceMwr.js";import"./token-DWNpOE8r.js";import"./strings-BMKmFQPH.js";import"./index-jcv93Qxd.js";import"./scroll-CpQYakkq.js";import"./vnode-CPGJC5yZ.js";import"./index-lwuhUFm2.js";import"./index-BfOxij12.js";import"./vue-draggable-plus-Ph1K8nJS.js";import"./index-BKZxi3r4.js";import"./refs-B-58sHkE.js";import"./index-Cr0GNYrc.js";import"./avatar1-CutlWZf5.js";import"./avatar6-VNTlcTK9.js";import"./avatar9-oKrDyQhv.js";import"./avatar10-Dom60BwY.js";import"./useTableColumns-DkEEMxim.js";import"./index-Cm0jkZAR.js";import"./index-DRTMnRQ8.js";import"./index-DEh6ra0d.js";import"./index-DvdSgfWH.js";import"./_baseClone-GChKn-ks.js";import"./index-xoN2v133.js";import"./index-bUEe-dxn.js";import"./index-BgexRGDI.js";import"./index-B1KT8ZNG.js";import"./cloneDeep-B9-2UQHO.js";import"./index-BP-4FEep.js";import"./index-Sk3Tdu_Z.js";import"./index-CXRd8D_e.js";import"./index-CHo-omvL.js";import"./validator-3LCelPuQ.js";import"./index-DlgK5ZY7.js";import"./index-ClZ4RRhL.js";import"./use-dialog-HEYsGeDR.js";import"./index-DyKybXYc.js";const B={class:"user-page art-full-height"},F=V(c(p(n({},{name:"User"}),{__name:"index",setup(e){const r=x("add"),t=x(!1),a=x({}),s=x([]),i=x({userName:void 0,userGender:void 0,userPhone:void 0,userEmail:void 0,status:"1"}),o={1:{type:"success",text:"在线"},2:{type:"info",text:"离线"},3:{type:"warning",text:"异常"},4:{type:"danger",text:"注销"}},{columns:c,columnChecks:V,data:F,loading:J,pagination:L,getData:N,searchParams:q,resetSearchParams:X,handleSizeChange:Y,handleCurrentChange:Z,refreshData:H}=j({core:{apiFn:A,apiParams:n({current:1,size:20},i.value),excludeParams:[],columnsFactory:()=>[{type:"selection"},{type:"index",width:60,label:"序号"},{prop:"avatar",label:"用户名",width:280,formatter:e=>E("div",{class:"user",style:"display: flex; align-items: center"},[E(G,{class:"avatar",src:e.avatar,previewSrcList:[e.avatar],previewTeleported:!0}),E("div",{},[E("p",{class:"user-name"},e.userName),E("p",{class:"email"},e.userEmail)])])},{prop:"userGender",label:"性别",sortable:!0,formatter:e=>e.userGender},{prop:"userPhone",label:"手机号"},{prop:"status",label:"状态",formatter:e=>{const r=(t=e.status,o[t]||{type:"info",text:"未知"});var t;return E(I,{type:r.type},(()=>r.text))}},{prop:"createTime",label:"创建日期",sortable:!0},{prop:"operation",label:"操作",width:120,fixed:"right",formatter:e=>E("div",[E(d,{type:"edit",onClick:()=>M("edit",e)}),E(d,{type:"delete",onClick:()=>Q(e)})])}]},transform:{dataTransformer:e=>Array.isArray(e)?e.map(((e,r)=>p(n({},e),{avatar:u[r%u.length].avatar}))):[]}}),K=e=>{Object.assign(q,e),N()},M=(e,s)=>{r.value=e,a.value=s||{},O((()=>{t.value=!0}))},Q=e=>{R.confirm("确定要注销该用户吗？","注销用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((()=>{T.success("注销成功")}))},W=()=>{return e=this,r=null,s=function*(){try{t.value=!1,a.value={}}catch(e){}},new Promise(((t,a)=>{var i=e=>{try{n(s.next(e))}catch(r){a(r)}},o=e=>{try{n(s.throw(e))}catch(r){a(r)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,o);n((s=s.apply(e,r)).next())}));var e,r,s},$=e=>{s.value=e};return(e,s)=>{const o=k,n=U,p=l,d=m,u=D,j=v("ripple");return g(),f("div",B,[y(S,{modelValue:b(i),"onUpdate:modelValue":s[0]||(s[0]=e=>h(i)?i.value=e:null),onSearch:K,onReset:b(X)},null,8,["modelValue","onReset"]),y(u,{class:"art-table-card",shadow:"never"},{default:_((()=>[y(p,{columns:b(V),"onUpdate:columns":s[2]||(s[2]=e=>h(V)?V.value=e:null),loading:b(J),onRefresh:b(H)},{left:_((()=>[y(n,{wrap:""},{default:_((()=>[P((g(),C(o,{onClick:s[1]||(s[1]=e=>M("add"))},{default:_((()=>s[4]||(s[4]=[w("新增用户")]))),_:1,__:[4]})),[[j]])])),_:1})])),_:1},8,["columns","loading","onRefresh"]),y(d,{loading:b(J),data:b(F),columns:b(c),pagination:b(L),onSelectionChange:$,"onPagination:sizeChange":b(Y),"onPagination:currentChange":b(Z)},null,8,["loading","data","columns","pagination","onPagination:sizeChange","onPagination:currentChange"]),y(z,{visible:b(t),"onUpdate:visible":s[3]||(s[3]=e=>h(t)?t.value=e:null),type:b(r),"user-data":b(a),onSubmit:W},null,8,["visible","type","user-data"])])),_:1})])}}})),[["__scopeId","data-v-efc2b503"]]);export{F as default};
