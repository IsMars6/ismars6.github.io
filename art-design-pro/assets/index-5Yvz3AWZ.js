var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,l,r)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r;import{d as n}from"./index-9J3W-hCL.js";import{d as i,a as c,c as u,o as p,aA as d,a5 as v,e as f,f as y,i as m,h as w,k as x,g as b}from"./index-IQGo8WxO.js";import{_}from"./_plugin-vue_export-helper-BCo6x5W8.js";const g={class:"scroll-wrapper"},j=["innerHTML"],O=["innerHTML"],h=i((T=((e,t)=>{for(var l in t||(t={}))a.call(t,l)&&o(e,l,t[l]);if(r)for(var l of r(t))s.call(t,l)&&o(e,l,t[l]);return e})({},{name:"ArtTextScroll"}),L={__name:"index",props:{text:{},speed:{default:70},direction:{default:"left"},type:{default:"default"},showClose:{type:Boolean,default:!1},typewriter:{type:Boolean,default:!1},typewriterSpeed:{default:100}},emits:["close"],setup(e,{emit:t}){const l=t,r=e,a=c(null),s=n(a),o=c(null),i=c(0),_=c("");let h=null;const T=c(!1),L=u((()=>r.typewriter?!s.value&&T.value:!s.value)),k=u((()=>r.typewriter?_.value:r.text)),P=u((()=>({"--animation-duration":`${i.value}s`,"--animation-play-state":L.value?"running":"paused","--animation-direction":"left"===r.direction?"normal":"reverse"}))),C=()=>{if(o.value){const e=o.value.scrollWidth/2;i.value=e/r.speed}},H=()=>{l("close")},M=()=>{let e=0;_.value="",T.value=!1;const t=()=>{e<r.text.length?(_.value+=r.text[e],e++,h=setTimeout(t,r.typewriterSpeed)):T.value=!0};t()};return p((()=>{C(),window.addEventListener("resize",C),r.typewriter&&M()})),d((()=>{window.removeEventListener("resize",C),h&&clearTimeout(h)})),v((()=>r.text),(()=>{r.typewriter&&(h&&clearTimeout(h),M())})),(e,t)=>(y(),f("div",{ref_key:"containerRef",ref:a,class:m(["text-scroll-container",[`text-scroll--${r.type}`]])},[t[1]||(t[1]=w("div",{class:"left-icon"},[w("i",{class:"iconfont-sys"},"")],-1)),w("div",g,[w("div",{class:m(["text-scroll-content",{scrolling:L.value}]),style:b(P.value),ref_key:"scrollContent",ref:o},[w("div",{class:"scroll-item",innerHTML:k.value},null,8,j),w("div",{class:"scroll-item",innerHTML:k.value},null,8,O)],6)]),e.showClose?(y(),f("div",{key:0,class:"right-icon",onClick:H},t[0]||(t[0]=[w("i",{class:"iconfont-sys"},"",-1)]))):x("",!0)],2))}},t(T,l(L))));var T,L;const k=_(h,[["__scopeId","data-v-1bcf9101"]]);export{k as _};
