var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{q as i,aH as r,dv as u,s as d,at as c,dw as m,a as p,c as g,a5 as y,aJ as h,dx as b,A as v,d as f,e as w,f as k,z as x,u as T,I as C,C as S,h as _,j as B,g as O,m as j,p as L,dy as M,aF as W,F as E,D as V,i as H,k as R,J as K,ab as I,G as A,o as D,aA as P}from"./index-IQGo8WxO.js";import{u as $}from"./index-9J3W-hCL.js";import{E as F}from"./index-CkewqgZS.js";import{_ as N}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{E as U}from"./index-CHo-omvL.js";import{E as q}from"./index-BP-4FEep.js";import{E as z,a as G}from"./index-WiBceMwr.js";import"./index-ClZ4RRhL.js";import"./vnode-CPGJC5yZ.js";import"./error-D_Dr4eZ1.js";import"./scroll-CpQYakkq.js";import"./index-CVDCfo3G.js";import"./aria-BWz5Vf1b.js";import"./use-dialog-HEYsGeDR.js";import"./event-BwRzfsZt.js";import"./index-CId84KWp.js";import"./index-BI2hd7RK.js";import"./validator-3LCelPuQ.js";import"./index-Bi9RLQBv.js";import"./use-form-item-M_69vDeD.js";import"./use-form-common-props-AkxMGj96.js";import"./index-lwuhUFm2.js";import"./index-BfOxij12.js";import"./index-jcv93Qxd.js";import"./index-B1KT8ZNG.js";import"./index-DC4nx5T3.js";import"./index-CAywqtFc.js";import"./index-CE6ES6Vp.js";import"./token-DWNpOE8r.js";import"./strings-BMKmFQPH.js";import"./castArray-CEnBrsUU.js";import"./isEqual-DovbVL_y.js";import"./_Uint8Array-C6UxRYqY.js";import"./debounce-Ce2MWZXC.js";import"./_baseIteratee-BI4Nmsbi.js";import"./index-DBDo8sc3.js";function J(){const e=i();return{initColorWeak:()=>{if(e.colorWeak){const e=document.getElementsByTagName("html")[0];setTimeout((()=>{e.classList.add("color-weak")}),100)}},switchMenuLayouts:t=>{t!==r.LEFT&&t!==r.TOP_LEFT||e.setMenuOpen(!0),e.switchMenuLayouts(t),t===r.DUAL_MENU&&(e.switchMenuStyles(u.DESIGN),e.setMenuOpen(!0))}}}function X(){const e=i(),t={setHtmlClass:(e,t)=>{const s=document.getElementsByTagName("html")[0];t?s.classList.add(e):s.classList.remove(e)},setRootAttribute:(e,t)=>{document.documentElement.setAttribute(e,t)},setBodyClass:(e,t)=>{const s=document.getElementsByTagName("body")[0];t?s.classList.add(e):s.classList.remove(e)}},s=(e,t)=>()=>{e(),null==t||t()},a=(e,t)=>s=>{null!=s&&(e(s),null==t||t(s))},n={workTab:s((()=>e.setWorkTab(!e.showWorkTab))),uniqueOpened:s((()=>e.setUniqueOpened())),menuButton:s((()=>e.setButton())),fastEnter:s((()=>e.setFastEnter())),refreshButton:s((()=>e.setShowRefreshButton())),crumbs:s((()=>e.setCrumbs())),language:s((()=>e.setLanguage())),nprogress:s((()=>e.setNprogress())),colorWeak:s((()=>e.setColorWeak()),(()=>{t.setHtmlClass("color-weak",e.colorWeak)})),watermark:s((()=>e.setWatermarkVisible(!e.watermarkVisible))),menuOpenWidth:a((t=>e.setMenuOpenWidth(t))),tabStyle:a((t=>e.setTabStyle(t))),pageTransition:a((t=>e.setPageTransition(t))),customRadius:a((t=>e.setCustomRadius(t)))},l={setBoxMode:s=>{const{boxBorderMode:a}=d(e);"shadow-mode"===s&&!1===a.value||"border-mode"===s&&!0===a.value||setTimeout((()=>{t.setRootAttribute("data-box-mode",s),e.setBorderMode()}),50)}};return{domOperations:t,basicHandlers:n,boxStyleHandlers:l,colorHandlers:{selectColor:t=>{e.setElementTheme(t),e.reload()}},containerHandlers:{setWidth:t=>{e.setContainerWidth(t),e.reload()}},createToggleHandler:s,createValueHandler:a}}const Q={class:"setting-drawer"},Y={class:"drawer-con"},Z=N(f({__name:"SettingDrawer",props:{modelValue:{type:Boolean}},emits:["update:modelValue","open","close"],setup(e,{emit:t}){const s=e,a=t,n=g({get:()=>s.modelValue,set:e=>a("update:modelValue",e)}),l=()=>{a("open")},o=()=>{a("close")},i=()=>{n.value=!1};return(e,t)=>{const s=F;return k(),w("div",Q,[x(s,{size:"300px",modelValue:T(n),"onUpdate:modelValue":t[0]||(t[0]=e=>C(n)?n.value=e:null),"lock-scroll":!0,"with-header":!1,"before-close":i,"destroy-on-close":!1,"modal-class":"setting-modal",onOpen:l,onClose:o},{default:S((()=>[_("div",Y,[B(e.$slots,"default",{},void 0,!0)])])),_:3},8,["modelValue"])])}}}),[["__scopeId","data-v-da6f6c1f"]]),ee={class:"setting-header"},te={class:"close-wrap"},se=N(f({__name:"SettingHeader",emits:["close"],setup:e=>(e,t)=>(k(),w("div",ee,[_("div",te,[_("i",{class:"iconfont-sys",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"")])]))}),[["__scopeId","data-v-343ef1c9"]]),ae=N(f({__name:"SectionTitle",props:{title:{},style:{}},setup:e=>(e,t)=>(k(),w("p",{class:"section-title",style:O(e.style)},j(e.title),5))}),[["__scopeId","data-v-20407913"]]);function ne(){const{t:e}=L(),t=g((()=>[{value:"tab-default",label:e("setting.tabStyle.default")},{value:"tab-card",label:e("setting.tabStyle.card")},{value:"tab-google",label:e("setting.tabStyle.google")}])),s=g((()=>[{value:"",label:e("setting.transition.list.none")},{value:"fade",label:e("setting.transition.list.fade")},{value:"slide-left",label:e("setting.transition.list.slideLeft")},{value:"slide-bottom",label:e("setting.transition.list.slideBottom")},{value:"slide-top",label:e("setting.transition.list.slideTop")}])),o=[{value:"0",label:"0"},{value:"0.25",label:"0.25"},{value:"0.5",label:"0.5"},{value:"0.75",label:"0.75"},{value:"1",label:"1"}],i=g((()=>[{value:M.FULL,label:e("setting.container.list[0]"),icon:"&#xe694;"},{value:M.BOXED,label:e("setting.container.list[1]"),icon:"&#xe6de;"}])),r=g((()=>[{value:"border-mode",label:e("setting.box.list[0]"),type:"border-mode"},{value:"shadow-mode",label:e("setting.box.list[1]"),type:"shadow-mode"}])),u={mainColors:v.systemMainColor,themeList:v.settingThemeList,menuLayoutList:v.menuLayoutList},d=g((()=>[{key:"showWorkTab",label:e("setting.basics.list.multiTab"),type:"switch",handler:"workTab",headerBarKey:null},{key:"uniqueOpened",label:e("setting.basics.list.accordion"),type:"switch",handler:"uniqueOpened",headerBarKey:null},{key:"showMenuButton",label:e("setting.basics.list.collapseSidebar"),type:"switch",handler:"menuButton",headerBarKey:"menuButton"},{key:"showFastEnter",label:e("setting.basics.list.fastEnter"),type:"switch",handler:"fastEnter",headerBarKey:"fastEnter"},{key:"showRefreshButton",label:e("setting.basics.list.reloadPage"),type:"switch",handler:"refreshButton",headerBarKey:"refreshButton"},{key:"showCrumbs",label:e("setting.basics.list.breadcrumb"),type:"switch",handler:"crumbs",mobileHide:!0,headerBarKey:"breadcrumb"},{key:"showLanguage",label:e("setting.basics.list.language"),type:"switch",handler:"language",headerBarKey:"language"},{key:"showNprogress",label:e("setting.basics.list.progressBar"),type:"switch",handler:"nprogress",headerBarKey:null},{key:"colorWeak",label:e("setting.basics.list.weakMode"),type:"switch",handler:"colorWeak",headerBarKey:null},{key:"watermarkVisible",label:e("setting.basics.list.watermark"),type:"switch",handler:"watermark",headerBarKey:null},{key:"menuOpenWidth",label:e("setting.basics.list.menuWidth"),type:"input-number",handler:"menuOpenWidth",min:180,max:320,step:10,style:{width:"120px"},controlsPosition:"right",headerBarKey:null},{key:"tabStyle",label:e("setting.basics.list.tabStyle"),type:"select",handler:"tabStyle",options:t.value,style:{width:"120px"},headerBarKey:null},{key:"pageTransition",label:e("setting.basics.list.pageTransition"),type:"select",handler:"pageTransition",options:s.value,style:{width:"120px"},headerBarKey:null},{key:"customRadius",label:e("setting.basics.list.borderRadius"),type:"select",handler:"customRadius",options:o,style:{width:"120px"},headerBarKey:null}].filter((e=>{if(null===e.headerBarKey)return!0;const t=W[e.headerBarKey];return!1!==(null==t?void 0:t.enabled)})).map((e=>{var t=e,{headerBarKey:s}=t;return((e,t)=>{var s={};for(var o in e)n.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(null!=e&&a)for(var o of a(e))t.indexOf(o)<0&&l.call(e,o)&&(s[o]=e[o]);return s})(t,["headerBarKey"])}))));return{tabStyleOptions:t,pageTransitionOptions:s,customRadiusOptions:o,containerWidthOptions:i,boxStyleOptions:r,configOptions:u,basicSettingsConfig:d}}const le={class:"setting-box-wrap"},oe=["onClick"],ie=["src"],re={class:"name"},ue=f({__name:"ThemeSettings",setup(e){const t=i(),{systemThemeMode:s}=d(t),{configOptions:a}=ne(),{switchThemeStyles:n}=m();return(e,t)=>(k(),w(E,null,[x(ae,{title:e.$t("setting.theme.title")},null,8,["title"]),_("div",le,[(k(!0),w(E,null,V(T(a).themeList,((t,a)=>(k(),w("div",{class:"setting-item",key:t.theme,onClick:e=>T(n)(t.theme)},[_("div",{class:H(["box",{"is-active":t.theme===T(s)}])},[_("img",{src:t.img},null,8,ie)],2),_("p",re,j(e.$t(`setting.theme.list[${a}]`)),1)],8,oe)))),128))])],64))}}),de={key:0},ce={class:"setting-box-wrap"},me=["onClick"],pe=["src"],ge={class:"name"},ye=f({__name:"MenuLayoutSettings",setup(e){const{width:t}=$(),s=i(),{menuType:a}=d(s),{configOptions:n}=ne(),{switchMenuLayouts:l}=J();return(e,s)=>T(t)>1e3?(k(),w("div",de,[x(ae,{title:e.$t("setting.menuType.title")},null,8,["title"]),_("div",ce,[(k(!0),w(E,null,V(T(n).menuLayoutList,((t,s)=>(k(),w("div",{class:"setting-item",key:t.value,onClick:e=>T(l)(t.value)},[_("div",{class:H(["box",{"is-active":t.value===T(a),"mt-16":s>2}])},[_("img",{src:t.img},null,8,pe)],2),_("p",ge,j(e.$t(`setting.menuType.list[${s}]`)),1)],8,me)))),128))])])):R("",!0)}}),he={class:"setting-box-wrap"},be=["onClick"],ve=["src"],fe=f({__name:"MenuStyleSettings",setup(e){const t=v.themeList,s=i(),{menuThemeType:a,menuType:n,isDark:l}=d(s),o=g((()=>n.value===r.TOP)),u=g((()=>n.value===r.DUAL_MENU)),c=g((()=>o.value||u.value||l.value));return(e,n)=>(k(),w(E,null,[x(ae,{title:e.$t("setting.menu.title")},null,8,["title"]),_("div",he,[(k(!0),w(E,null,V(T(t),(e=>(k(),w("div",{class:"setting-item",key:e.theme,onClick:t=>{return a=e.theme,void(u.value||o.value||l.value||s.switchMenuStyles(a));var a}},[_("div",{class:H(["box",{"is-active":e.theme===T(a)}]),style:O({cursor:T(c)?"no-drop":"pointer"})},[_("img",{src:e.img},null,8,ve)],6)],8,be)))),128))])],64))}}),we={class:"color-settings"},ke={class:"main-color-wrap"},xe={class:"offset"},Te=["onClick"],Ce={class:"iconfont-sys"},Se=N(f({__name:"ColorSettings",setup(e){const t=i(),{systemThemeColor:s}=d(t),{configOptions:a}=ne(),{colorHandlers:n}=X();return(e,t)=>(k(),w("div",we,[x(ae,{title:e.$t("setting.color.title"),style:{"margin-top":"40px"}},null,8,["title"]),_("div",ke,[_("div",xe,[(k(!0),w(E,null,V(T(a).mainColors,(e=>(k(),w("div",{key:e,style:O({background:`${e} !important`}),onClick:t=>T(n).selectColor(e)},[K(_("i",Ce,"",512),[[I,e===T(s)]])],12,Te)))),128))])])]))}}),[["__scopeId","data-v-91dd0386"]]),_e={class:"box-style-settings"},Be={class:"box-style"},Oe=["onClick"],je=N(f({__name:"BoxStyleSettings",setup(e){const t=i(),{boxBorderMode:s}=d(t),{boxStyleOptions:a}=ne(),{boxStyleHandlers:n}=X();return(e,t)=>(k(),w("div",_e,[x(ae,{title:e.$t("setting.box.title"),style:{marginTop:"40px"}},null,8,["title"]),_("div",Be,[(k(!0),w(E,null,V(T(a),(e=>{return k(),w("div",{key:e.value,class:H(["button",{"is-active":(t=e.type,"border-mode"===t?s.value:!s.value)}]),onClick:t=>T(n).setBoxMode(e.type)},j(e.label),11,Oe);var t})),128))])]))}}),[["__scopeId","data-v-ac90b03c"]]),Le={class:"container-settings"},Me={class:"container-width"},We=["onClick"],Ee=["innerHTML"],Ve=N(f({__name:"ContainerSettings",setup(e){const t=i(),{containerWidth:s}=d(t),{containerWidthOptions:a}=ne(),{containerHandlers:n}=X();return(e,t)=>(k(),w("div",Le,[x(ae,{title:e.$t("setting.container.title"),style:{marginTop:"50px"}},null,8,["title"]),_("div",Me,[(k(!0),w(E,null,V(T(a),(e=>(k(),w("div",{key:e.value,class:H(["item",{"is-active":T(s)===e.value}]),onClick:t=>T(n).setWidth(e.value)},[_("i",{class:"iconfont-sys",innerHTML:e.icon},null,8,Ee),_("span",null,j(e.label),1)],10,We)))),128))])]))}}),[["__scopeId","data-v-7056cb25"]]),He={class:"label"},Re=N(f({__name:"SettingItem",props:{config:{},modelValue:{}},emits:["change"],setup(e,{emit:t}){const s=e,a=t,n=g((()=>{if(!s.config.options)return[];try{return"object"==typeof s.config.options&&"value"in s.config.options?s.config.options.value||[]:Array.isArray(s.config.options)?s.config.options:[]}catch(e){return[]}})),l=e=>{try{a("change",e)}catch(t){}};return(e,t)=>{const s=U,a=q,o=G,i=z;return k(),w("div",{class:H(["setting-item",{"mobile-hide":e.config.mobileHide}])},[_("span",He,j(e.config.label),1),"switch"===e.config.type?(k(),A(s,{key:0,"model-value":e.modelValue,onChange:l},null,8,["model-value"])):"input-number"===e.config.type?(k(),A(a,{key:1,"model-value":e.modelValue,min:e.config.min,max:e.config.max,step:e.config.step,style:O(e.config.style),"controls-position":e.config.controlsPosition,onChange:l},null,8,["model-value","min","max","step","style","controls-position"])):"select"===e.config.type?(k(),A(i,{key:2,"model-value":e.modelValue,style:O(e.config.style),onChange:l},{default:S((()=>[(k(!0),w(E,null,V(T(n),(e=>(k(),A(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["model-value","style"])):R("",!0)],2)}}}),[["__scopeId","data-v-d6416a6f"]]),Ke={class:"basic-settings"},Ie={class:"basic-box"},Ae=N(f({__name:"BasicSettings",setup(e){const t=i(),{basicSettingsConfig:s}=ne(),{basicHandlers:a}=X(),{uniqueOpened:n,showMenuButton:l,showFastEnter:o,showRefreshButton:r,showCrumbs:u,showWorkTab:c,showLanguage:m,showNprogress:p,colorWeak:g,watermarkVisible:y,menuOpenWidth:h,tabStyle:b,pageTransition:v,customRadius:f}=d(t),C={uniqueOpened:n,showMenuButton:l,showFastEnter:o,showRefreshButton:r,showCrumbs:u,showWorkTab:c,showLanguage:m,showNprogress:p,colorWeak:g,watermarkVisible:y,menuOpenWidth:h,tabStyle:b,pageTransition:v,customRadius:f},S=e=>{var t;const s=C[e];return null!=(t=null==s?void 0:s.value)?t:null};return(e,t)=>(k(),w("div",Ke,[x(ae,{title:e.$t("setting.basics.title"),style:{marginTop:"40px"}},null,8,["title"]),_("div",Ie,[(k(!0),w(E,null,V(T(s),(e=>(k(),A(Re,{key:e.key,config:e,"model-value":S(e.key),onChange:t=>((e,t)=>{const s=a[e];"function"==typeof s&&s(t)})(e.handler,t)},null,8,["config","model-value","onChange"])))),128))])]))}}),[["__scopeId","data-v-81c6dcde"]]),De={class:"layout-settings"},Pe=f(($e=((e,t)=>{for(var s in t||(t={}))n.call(t,s)&&o(e,s,t[s]);if(a)for(var s of a(t))l.call(t,s)&&o(e,s,t[s]);return e})({},{name:"ArtSettingsPanel"}),Fe={__name:"index",props:{open:{type:Boolean}},setup(e){const t=e,s=function(){const e=i(),{systemThemeType:t,systemThemeMode:s,menuType:a}=d(e),{openFestival:n,cleanup:l}=c(),{setSystemTheme:o,setSystemAutoTheme:u}=m(),{initColorWeak:f}=J(),{domOperations:w}=X(),k=p(!1),{width:x}=$(),T=p(),C=p(!1),S=g((()=>e.systemThemeColor)),_=()=>{const a=()=>{s.value===b.AUTO?u():o(t.value)};return{initSystemColor:()=>{v.systemMainColor.includes(S.value)||(e.setElementTheme(v.systemMainColor[0]),e.reload())},initSystemTheme:a,listenerSystemTheme:()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");return e.addEventListener("change",a),()=>{e.removeEventListener("change",a)}}}},B=()=>({handleOpen:()=>{setTimeout((()=>{w.setBodyClass("theme-change",!0)}),500)},handleClose:()=>{w.setBodyClass("theme-change",!1)},openSetting:()=>{k.value=!0},closeDrawer:()=>{k.value=!1}});return{showDrawer:k,useThemeHandlers:_,useResponsiveLayout:()=>({handleWindowResize:()=>{y(x,(t=>{t<1e3?C.value||(T.value=a.value,J().switchMenuLayouts(r.LEFT),e.setMenuOpen(!1),C.value=!0):C.value&&T.value&&(J().switchMenuLayouts(T.value),e.setMenuOpen(!0),C.value=!1)}))}}),useDrawerControl:B,usePropsWatcher:e=>{y((()=>e.open),(e=>{void 0!==e&&(k.value=e)}))},useSettingsInitializer:()=>{const t=_(),{openSetting:s}=B();let a=null;return{initializeSettings:()=>{h.on("openSetting",s),t.initSystemColor(),a=t.listenerSystemTheme(),f();const l=e.boxBorderMode?"border-mode":"shadow-mode";setTimeout((()=>{w.setRootAttribute("data-box-mode",l)}),50),t.initSystemTheme(),n()},cleanupSettings:()=>{null==a||a(),l()}}}}}(),{showDrawer:a}=s,{handleWindowResize:n}=s.useResponsiveLayout(),{handleOpen:l,handleClose:o,closeDrawer:u}=s.useDrawerControl(),{initializeSettings:f,cleanupSettings:_}=s.useSettingsInitializer();return s.usePropsWatcher(t),D((()=>{f(),n()})),P((()=>{_()})),(e,t)=>(k(),w("div",De,[x(Z,{modelValue:T(a),"onUpdate:modelValue":t[0]||(t[0]=e=>C(a)?a.value=e:null),onOpen:T(l),onClose:T(o)},{default:S((()=>[x(se,{onClose:T(u)},null,8,["onClose"]),x(ue),x(ye),x(fe),x(Se),x(je),x(Ve),x(Ae)])),_:1},8,["modelValue","onOpen","onClose"])]))}},t($e,s(Fe))));var $e,Fe;export{Pe as default};
