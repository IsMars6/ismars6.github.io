import{bu as o,d as e,a0 as t,V as s,z as n,a8 as a,j as u,ah as d,I as r,c,bk as l,Z as i,a5 as m,Y as p,c0 as y,cu as v,$ as f}from"./index-IQGo8WxO.js";import{P as b}from"./vnode-CPGJC5yZ.js";import{t as k}from"./error-D_Dr4eZ1.js";import{g as x}from"./scroll-CpQYakkq.js";const M=e=>{if(!e)return{onClick:o,onMousedown:o,onMouseup:o};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},g=t({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const h=e({name:"ElOverlay",props:g,emits:{click:o=>o instanceof MouseEvent},setup(o,{slots:e,emit:t}){const d=s("overlay"),{onClick:r,onMousedown:c,onMouseup:l}=M(o.customMaskEvent?void 0:o=>{t("click",o)});return()=>o.mask?n("div",{class:[d.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:r,onMousedown:c,onMouseup:l},[u(e,"default")],b.STYLE|b.CLASS|b.PROPS,["onClick","onMouseup","onMousedown"]):a("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[u(e,"default")])}}),w=(o,e={})=>{r(o)||k("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||s("popup"),n=c((()=>t.bm("parent","hidden")));if(!l||i(document.body,n.value))return;let a=0,u=!1,d="0";const b=()=>{setTimeout((()=>{"undefined"!=typeof document&&u&&document&&(document.body.style.width=d,f(document.body,n.value))}),200)};m(o,(o=>{if(!o)return void b();u=!i(document.body,n.value),u&&(d=document.body.style.width,p(document.body,n.value)),a=x(t.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,s=y(document.body,"overflowY");a>0&&(e||"scroll"===s)&&u&&(document.body.style.width=`calc(100% - ${a}px)`)})),v((()=>b()))};export{h as E,M as a,w as u};
